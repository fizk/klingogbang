{% extends '@layout/default.html.twig' %}

{% block title %}
    {{ language == 'is' ? 'Verslun' :  'Store' }}
{% endblock %}

{% block meta %}
    <link rel="canonical" href="{{ host }}{{ path(language == 'is' ? 'verslun' : 'store') }}" />
    <meta property="og:url"   content="{{ host }}{{ path(language == 'is' ? 'verslun' : 'store') }}" />
    <meta property="og:type"  content="article" />
    <meta property="og:title" content="{{ language == 'is' ? 'Verslun' : 'Store' }}" />
    <meta property="og:image" content="/images/poster.jpg" />
{% endblock %}

{% block language_switch %}
    {% if language == 'is' %}
        <li class="app__nav-list-item"><a class="app__nav-link" href="{{ path('store') }}">English</a></li>
    {% else %}
        <li class="app__nav-list-item"><a class="app__nav-link" href="{{ path('verslun') }}">√çslenska</a></li>
    {% endif %}
{% endblock %}

{% block content %}
    <main class="app__main">
        <article class="block">
            <aside class="block__aside"></aside>
            <div class="block__content">
                {% include '@partials/header.html.twig' %}
            </div>
        </article>
        {% for item in inventory %}

            <article class="block">
                <aside class="block__aside">
                    <ul class="image__gallery image__gallery--small">
                        {% for image in item.images %}
                            {% if image.width > image.height %}
                                <li class="image__gallery-item image__gallery-item--landscape">
                                    <img class="image__gallery-image" src="{{ path('asset', {size: '400x', name: image.name}) }}" />
                                </li>
                            {% else %}
                                <li class="image__gallery-item image__gallery-item--portrait">
                                    <img class="image__gallery-image" src="{{ path('asset', {size: 'x600', name: image.name}) }}" />
                                </li>
                            {% endif %}
                        {% endfor %}
                    </ul>
                </aside>
                <div class="block__content">
                    {% if user_session %}
                        <a class="entry__edit-button" href="{{ path('update-inventory', {id: item.id}) }}">edit</a>
                    {% endif %}
                    <div class="content">
                        <h3 class="content__title">
                            {{item.title}}
                        </h3>

                        <div class="content__body markdown-text">
                            {% markdown %}
                                {{ item.body|raw }}
                            {% endmarkdown %}
                        </div>
                    </div>
                </div>
            </article>



{#            <article class="article">#}
{#                <aside class="article__aside">#}
{#                    <ul class="image__gallery">#}
{#                        {% for image in item.images %}#}
{#                            {% if image.width > image.height %}#}
{#                                <li class="image__gallery-item image__gallery-item--landscape">#}
{#                                    <img class="image__gallery-image" src="{{ path('asset', {size: '400x', name: image.name}) }}" />#}
{#                                </li>#}
{#                            {% else %}#}
{#                                <li class="image__gallery-item image__gallery-item--portrait">#}
{#                                    <img class="image__gallery-image" src="{{ path('asset', {size: 'x600', name: image.name}) }}" />#}
{#                                </li>#}
{#                            {% endif %}#}
{#                        {% endfor %}#}
{#                    </ul>#}
{#                </aside>#}
{#                <div class="article__body">#}
{#                    {% if user_session %}#}
{#                        <a class="entry__edit-button" href="{{ path('update-inventory', {id: item.id}) }}">edit</a>#}
{#                    {% endif %}#}
{#                    {{item.title}}#}
{#                    <div class="article__body-text markdown-text">#}
{#                        {% markdown %}#}
{#                            {{ item.body|raw }}#}
{#                        {% endmarkdown %}#}
{#                    </div>#}
{#                </div>#}
{#            </article>#}
        {% endfor %}
    </main>
{% endblock %}
