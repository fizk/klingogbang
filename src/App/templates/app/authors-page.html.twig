{% extends '@layout/default.html.twig' %}

{% block title %}
    {% if language == 'is' %}
        Listamenn
    {% else %}
        Artists
    {% endif %}
{% endblock %}

{% block meta %}
    <link rel="canonical" href="{{ host }}{{ path(language == 'is' ? 'listamenn' : 'authors') }}" />
    <meta property="og:url"                content="{{ host }}{{ path(language == 'is' ? 'listamenn' : 'authors') }}" />
    <meta property="og:type"               content="article" />
    <meta property="og:title"              content="{{ language == 'is' ? 'Listamenn' : 'Artists'}}" />
{% endblock %}

{% block language_switch %}
{% if language == 'is' %}
    <li class="app__nav-list-item"><a class="app__nav-link" href="{{ path('authors') }}">English</a></li>
{% else %}
    <li class="app__nav-list-item"><a class="app__nav-link" href="{{ path('listamenn') }}">√çslenska</a></li>
{% endif %}
{% endblock %}

{% block content %}
    <article class="article">
        <aside class="article__aside">
            <ul class="author-list">
                {% for author in list %}
                    <li class="author-list__item">
                        <h3 class="author-list__author">{{ author.name }}</h3>
                        {% if user_session %}
                            <a href="{{ path('update-author', {id: author.id}) }}">edit</a>
                        {% endif %}
                        <ul class="author-list__entries-list">
                            {% for entry in author.entries %}
                                <li class="author-list__entries-item">
                                    <h4 class="author-list__entry">
                                        <a href="{{ path(language == 'is' ? 'syning' : 'entry', {id: entry.title|slug(entry.id)}) }}">{{ entry.title }}</a>
                                    </h4>
                                </li>
                            {% endfor %}
                        </ul>
                    </li>
                {% endfor %}
            </ul>
        </aside>
        <div class="article__body">
            {% include '@partials/header.html.twig' %}
        </div>
    </article>
{% endblock %}
